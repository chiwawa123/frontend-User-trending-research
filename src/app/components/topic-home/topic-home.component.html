<ngx-ui-loader>
  
</ngx-ui-loader>
<div id="banner-area" class="banner-area" style="background-image:url(assets/images/ban.png)">
    <div class="banner-text">
      <div class="container">
          <div class="row">
            <div class="col-lg-12">
                <div class="banner-heading">
                  <nav aria-label="breadcrumb">
                      <ol class="breadcrumb justify-content-center">
                        <li class="breadcrumb-item"><a routerLink="/home">Home</a></li>
                        <li class="breadcrumb-item"><a href="#">Topic Home</a></li>
                    
                      </ol>
                  </nav>
                </div>
            </div><!-- Col end -->
          </div><!-- Row end -->
      </div><!-- Container end -->
    </div><!-- Banner text end -->
  </div><!-- Banner area end --> 
  
  <section id="main-container" class="main-container">
    <div class="container">
      <div class="row">
  
        <div class="col-lg-8 mb-5 mb-lg-0">
  
          <div class="post-content post-single">
           
                      <div class="author-box d-nlock d-sm-flex">
                        <div class="author-info">
                          <h3 class="entry-title" style="color: #696e6e;">
                           <span style="font-style: italic; font-size: larger;"> {{topicTestimonial?.topic_name}}</span>
                                  </h3>
                        </div>
                      </div>
            <div class="post-media post-image">
              <img loading="lazy" src="{{imagePath}}{{topicTestimonial.image}}" style="height: 600px;width: 800px;" class="img-fluid" alt="post-image">
            
            </div>
  
            <div class="post-body">
              <div class="entry-header">
                <div class="post-meta">
                  <span class="post-meta-date" style="color: brown;"><i class="far fa-calendar"></i> {{topicTestimonial?.date_posted }}</span>
                  <span class="post-comment">
                    <form  #addReview=ngForm (submit)="postReview()">  
                      <input type="hidden" name="is_liked" [value]=1 [(ngModel)]="rev.is_liked">
                      <input type="hidden" name="topic_id" value="{{topic.topic_id}" [(ngModel)]="rev.topic_id">
                      <input type="hidden" name="student_id" value="{{student.student_id}" [(ngModel)]="rev.student_id">
                   <div *ngIf="like.liked">
                    <button type="submit" class="btn  btn-default " 
                    ><i style="color: #d73535;" class="fa-solid fa-regular fa-thumbs-up fa-lg"></i>{{like.liked}}</button>
                   </div>
                   <div *ngIf="!like.liked">
                    <button type="submit" class="btn  btn-default " 
                    ><i style="color: #737070;" class="fa-regular fa-thumbs-up fa-beat fa-lg"></i>{{like.liked}}</button>
                   </div>
                 
                    </form>
                  </span>
                        <span class="post-author" style="color: #24b0ed;">
                            <i class="far fa-folder-open"></i><a (click)="navigateToCategoryHome(topicTestimonial)">  {{topicTestimonial?.topic_category_name}}</a>
                          </span>
                          <span class="post-comment" style="color: #24b0ed;" *ngIf=" count[0].count_testimonial > 1"><i class="far fa-comment"></i> {{count[0].count_testimonial}}<a 
                            class="comments-link"  style="color: #76797a !important;">Testimonials</a></span>
                            <span class="post-comment" style="color: #24b0ed;" *ngIf=" count[0].count_testimonial < 2"><i class="far fa-comment"></i> {{count[0].count_testimonial}}<a 
                              class="comments-link"  style="color: #76797a !important;">Testimonial</a></span>
                            <span class="post-author" *ngIf=" visits[0].views > 1">
                              <i class="far fa-eye" ></i><a>  {{visits[0].views}} views</a>
                            </span>
                            <span class="post-author" *ngIf=" visits[0].views < 2">
                              <i class="far fa-eye" ></i><a>  {{visits[0].views}} view</a>
                            </span>
                           
                            <span class="post-author" >
                              <i class="far fa-eye"></i><a>  {{readTime.time}} </a>
                            </span>
                </div>
              </div>
              <div class="author-box d-nlock d-sm-flex">
                <div class="author-info">
                  <h3><span style="font-style: italic;">Author</span><span style="color: brown;">{{topicTestimonial.first_name}}</span> <span style="color: brown;">{{topicTestimonial.last_name}}</span></h3>
              
      
                </div>
              </div>

              <div class="entry-content" style="text-align: justify;">
                <!-- <app-moreless [text]="topicTestimonial.description" [wordLimit]="100"></app-moreless> -->
                <p [innerHTML]="topicTestimonial.description" > </p>
               

              </div>
              
  
  
            </div><!-- post-body end -->
          </div><!-- post content end -->

        <!-- Main Body -->
      
            
        
        </div><!-- Content Col end -->
        <div class="col-lg-4 mt-5 mt-lg-0">

          <div class="sidebar sidebar-right">
            <div class="widget recent-posts">
              <h3 class="widget-title">Recent Posts</h3>
              <ul class="list-unstyled"  *ngFor="let t of topicListInCategory ">
               
                <li class="d-flex align-items-center">
                  <div class="posts-thumb">
                    <a (click)="navigateToTopic(t)"><img loading="lazy" alt="news-img" src="{{imagePath}}{{t.image}}"></a>
                  </div>
                  <div class="post-info">
                    <h4 class="entry-title">
                      <a (click)="navigateToTopic(t)"><span style="font-size:x-small;">{{t.topic_name}}</span></a>
                    </h4>
                  </div>
                </li><!-- 2nd post end-->
  
           
  
              </ul>
  
            </div><!-- Recent post end -->
          </div><!-- Sidebar end -->
       
  
        </div><!-- Col end -->

        <section>
          <div class="container">
              <div class="row">
                  <div class="col-sm-5 col-md-6 col-12 pb-4">
                      <h1>Testimonials</h1>
                      
                      <div *ngFor="let d of data.testimonials | paginate : { itemsPerPage: itemsPerPage, currentPage: p}" class="comment mt-4 text-justify float-left">
                          <img  (error)="handleMissingImage($event)" src="https://www.cut.ac.zw/portal/ids/{{d.reg_number}}.JPG" alt="" class="rounded-circle" width="70" height="70">.


                          <h4>{{d.first_name}} {{d.surname}}</h4>,
                          <span class="text-right">{{d.date_posted | date}}</span>
                          <br>
                          <p>{{d.description}}</p>
                      </div>
                     
                    
                     
                  </div>
                  <div class="col-lg-4 col-md-5 col-sm-4 offset-md-1 offset-sm-1 col-12 mt-4">
                    <form style="  border: 1px solid #caa531;
                    background-color: #f7f7f7;
                    border-radius: 5px;
                    padding: 20px;" role="form" id="algin-form" (submit)="addTestimonial()" >
                   
                          <div class="form-group">
                              <h4>Leave a Testimonial</h4>
  
                              <textarea [(ngModel)]="test.description" name="description" id=""msg cols="30" rows="5" class="form-control" style="background-color: #fff;"></textarea>
                          </div>
                     
                         
                        
                          <div class="form-group">
                              <button type="submit" id="post" class="btn" style="color: #fff;">submit</button>
                          </div>
                         
                      </form>
                  </div>
                  <div class="row">
                    <pagination-controls class="text-primary text-center" (pageChange)="p=$event" >
            
                    </pagination-controls>
                  </div>
              </div>
          </div>
      </section>

        

     
  
      
  
      </div><!-- Main row end -->
  
    </div><!-- Conatiner end -->
  </section><!-- Main container end -->
  